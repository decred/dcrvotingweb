{{define "home"}}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Hardfork Demo of Decred Cryptocurrency">
    <meta name="author" content="Decred Developer">
    <link rel="icon" href="favicon.ico">
    <title>Hardfork Demo</title>
    <link href="css/main.css" rel="stylesheet">
    <link rel="stylesheet/less" type="text/css" href="css/dynamic.less">
    <script src="js/Chart.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="wrapper">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
<a class="navbar-brand" href="#"><svg class="svg-logo"><use xlink:href="images/sprites.svg#svg-decred-logo" /></svg></a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://faucet.decred.org" title="Testnet Faucet" title="_blank">Testnet Faucet</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>


<div class="wrapper" style="margin-top:100px;">
                <div class="col-md-5">
                        <div class="radial-progress">
                                <div class="circle">
                                        <div class="mask full">
                                                <div class="fill"></div>
                                        </div>
                                        <div class="mask half">
                                                <div class="fill"></div>
                                                <div class="fill fix"></div>
                                        </div>
                                        <div class="shadow"></div>
                                </div>
                                <div class="inset text-center" style="padding-top:12px"><strong>PoW</strong><br /><span class="bigpercent">{{.MostPopularBlockVersionPercentage}}%</span>
				<br />{{if .BlockVersionSuccess}}v{{.CurrentCalculatedBlockVersion}}{{else}}<span class="error">v{{.CurrentCalculatedBlockVersion}}</span>{{end}}<br />
                                {{if .BlockVersionSuccess}}
                                <span class="label label-success">FINISHED</span>
                                {{else}}
                                <span class="label label-default">IN PROGRESS</span>
                                {{end}}
				<p class="textinset">
                                <small><strong>Current Version:</strong>  v{{.MostPopularBlockVersion}}<br /><strong>Rolling Window:</strong> {{.BlockVersionWindowLength}} Blocks<br /><strong>Reject treshold:</strong> {{.BlockVersionRejectThreshold}}%</small>
                                </p> 
				</div>
                        </div>
                        <div class="boxindicators">
                          {{if .BlockVersionSuccess}}<div class="alert alert-success">
                            Success! v{{.MostPopularBlockVersion}} had {{.MostPopularBlockVersionPercentage}}% of votes in the latest rolling window and therefore it is the current network block version(v{{.CurrentCalculatedBlockVersion}})
                          </div>
                          {{else}}<div class="alert alert-danger">
                            v{{.CurrentCalculatedStakeVersion}} is still the current stake version.  The most popular vote version in the current stake version upgrade interval is v{{.MostPopularStakeVersion}} and is at {{.MostPopularStakeVersionPercentage}}% of the total possible votes in the interval.  Be prepared to upgrade if it reaches the threshold.
                          </div>
                          {{end}}
                        </div>

                </div>
                <div class="col-md-5">
                        <div class="radial-progress2">
                                <div class="circle2">
                                        <div class="mask full">
                                                <div class="fill"></div>
                                        </div>
                                        <div class="mask half">
                                                <div class="fill"></div>
                                                <div class="fill fix"></div>
                                        </div>
                                        <div class="shadow"></div>
                                </div>
                                <div class="inset text-center" style="padding-top:12px"><strong>PoS</strong><br /><span class="bigpercent">{{.MostPopularStakeVersionPercentage}}%</span>
				<br />{{if .StakeVersionSuccess}}v{{.CurrentCalculatedStakeVersion}}{{else}}<span class="error">v{{.CurrentCalculatedStakeVersion}}</span>{{end}}<br />
                                {{if .StakeVersionSuccess}}
                                <span class="label label-success">FINISHED</span><br />
                                {{else}}
                                <span class="label label-default">IN PROGRESS</span><br />
                               {{end}}
			        <p class="textinset">
                                <small><strong>Current Block:</strong> {{.BlockHeight}}<br /><strong>Static Window:</strong> {{.StakeVersionWindowLength}} Blocks<br /><strong>Reject treshold:</strong> {{.StakeVersionThreshold}}%<br /><strong>Blocks left:</strong> {{.VoteBlockLeft}}</small>
                                </p>
				</div>
                        </div>
                        <div class="boxindicators">
                          {{if .StakeVersionSuccess}}
                          <div class="alert alert-success">
                            Success! v{{.MostPopularStakeVersion}} had {{.MostPopularStakeVersionPercentage}}% of votes in the latest static window and therefore it is the current network stake version (v{{.CurrentCalculatedStakeVersion}})
                          </div>
                          {{else}}
                           <div class="alert alert-danger">
                            v{{.CurrentCalculatedStakeVersion}} is still the current vote version.  But v{{.MostPopularStakeVersion}} has received {{.MostPopularStakeVersionPercentage}}% of the votes in the latest static window.  Be prepared to upgrade if it reaches the threshold.
                          </div>
                          {{end}}
                        </div>
                </div>
                <div class="col-md-5">
                        <div class="radial-progress3">
                                <div class="circle3">
                                        <div class="mask full">
                                                <div class="fill"></div>
                                        </div>
                                        <div class="mask half">
                                                <div class="fill"></div>
                                                <div class="fill fix"></div>
                                        </div>
                                        <div class="shadow"></div>
                                </div>
                                <div class="inset text-center" style="padding-top:12px"><strong>Stakevoting</strong><br /><span class="bigpercent">XX%</span><br />{{if and .BlockVersionSuccess .StakeVersionSuccess}}&nbsp;{{else}}<span class="label label-warning">NOT STARTED</span>{{end}}<br />
				<p class="textinset">
                                <small><strong>Agenda ID:</strong>  #{{.AgendaID}}<br /><strong>Voting Window:</strong><br />Block {{.VoteStartHeight}}-{{.VoteEndHeight}}</small>
                                </p>
                                </div>
                        </div>
                        <div class="boxindicators">
			                      {{if and .StakeVersionSuccess .BlockVersionSuccess}}<div class="alert alert-success">
                            PoW v{{.MostPopularBlockVersion}} &hearts; PoS v{{.MostPopularStakeVersion}}<br />
                            <strong>v{{.MostPopularBlockVersion}} locked in!</strong>Voting active.<br /><a href="#">Upgrade</a> your software if you have not yet.
                          </div>
                          {{else}}<div class="alert alert-danger">
                            <span class="text-center">PoW v{{.CurrentCalculatedBlockVersion}} <strong>&#8623;</strong> PoS v{{.CurrentCalculatedStakeVersion}}</span><br />
 Voting not active. Voting will begin when PoW <strong>and</strong> PoS miners have upgraded to latest v{{.MostPopularBlockVersion}}.
                          </div>
                          {{end}}
                        </div>
		</div><!-- END CYRCLE OVERVIEW -->
<a name="detailcharts"></a>





<div style="clear:both;">&nbsp;</div>
<div id="peelagenda" class="hidden">
<h4><span>Agenda</span></h4>
<!-- BEGIN AGENDA OVERVIEW -->    
        <div class="col-md-10">
	<p class="bg-primary" style="padding:15px;"><strong>{{.AgendaDescription}}</strong> | <strong>Agenda ID:</strong>  #{{.AgendaID}}</p>
	
          <p class="bg-info" style="background-color:#2971FF;padding:15px;">
            Once the majority of the PoW miners have upgraded ({{.BlockVersionRejectThreshold}}% of the {{.BlockVersionWindowLength}} most recent blocks are at the latest version) 
            and the majority of the PoS miners have upgraded ({{.StakeVersionThreshold}}% of the votes in a {{.StakeVersionWindowLength}} block interval) have upgraded, the voting process begins.
          </p>
        </div>


        <!-- OVERALL STATISTICS -->
        <div class="col-md-5 text-right">
	<strong>Upgrade status:</strong>
	<table class="table table-condensed">
	<tbody>
	<tr><td>Network <strong>Block</strong> Version:</td><td><strong>{{if .BlockVersionSuccess}}<span style="color:#41BF53">v{{.CurrentCalculatedBlockVersion}}</span>{{else}}<span style="color:#FD714A">v{{.CurrentCalculatedBlockVersion}}</span>{{end}}</strong></td></tr>
	<tr><td>Most popular block version (v{{.MostPopularBlockVersion}}) percentage:</td><td><strong>{{if .BlockVersionSuccess}}<span style="color:#41BF53">{{.MostPopularBlockVersionPercentage}}%</span>{{else}}<span style="color:#FD714A">{{.MostPopularBlockVersionPercentage}}%</span>{{end}}</strong></td></tr>
	<tr><td>Network <strong>Stake</strong> Version:</td><td><strong>{{if .StakeVersionSuccess}}<span style="color:#41BF53">v{{.CurrentCalculatedStakeVersion}}</span>{{else}}<span style="color:#FD714A">v{{.CurrentCalculatedStakeVersion}}</span>{{end}}</strong></td></tr>
	<tr><td>Most popular stake version (v{{.MostPopularStakeVersion}}) percentage:</td><td><strong>{{if .StakeVersionSuccess}}<span style="color:#41BF53">{{.MostPopularStakeVersionPercentage}}%</span>{{else}}<span style="color:#FD714A">{{.MostPopularStakeVersionPercentage}}%</span>{{end}}</strong></td></tr>
	</tbody>
	</table>
        </div>
  </div>








     <!-- BEGIN STEP 1 BLOCK AND VOTEBIT VERSION TRESHOLD 95% -->
      <!-- BEGIN POW TRESHOLD CHART 144 BLOCKS WINDOW DATAPOINTS -->
      <div id="boxpow" class="hidden">
          <h3>Block Version (PoW) {{if .BlockVersionSuccess}}
                                <span class="label label-success">FINISHED</span>
                                {{else}}
                                <span class="label label-default">IN PROGRESS</span>
                                {{end}}</h3>
          <!-- 95% Treshold reached alertbox --><br />
	  {{if .BlockVersionSuccess}}
          <div class="alert alert-success">
            Success! v{{.MostPopularBlockVersion}} had {{.MostPopularBlockVersionPercentage}}% of votes in the latest rolling window and therefore it is the current network block version(v{{.CurrentCalculatedBlockVersion}})
          </div>
          {{else}}
           <div class="alert alert-danger">
            v{{.CurrentCalculatedBlockVersion}} is still the current block version.  But v{{.MostPopularBlockVersion}} has received {{.MostPopularBlockVersionPercentage}}% of the votes in the latest rolling window.  Be prepared to upgrade if it reaches the threshold.
          </div>
          {{end}}
          <!-- FIRST CHART -->
          <div class="col-md-10">
          <canvas id="blockVersions" width="400" height="200"></canvas>
        </div>
        <!-- BEGIN POW BAR LAST 144 BLOCKS -->
        <div class="col-md-5 text-right">
	<strong>Block Version:</strong>
	<table class="table table-condensed">
	<tbody>
	<tr><td>Block v4 first seen on the network:</td><td><strong>{{if .BlockVersionSuccess}}<span style="color:#41BF53">Block#{{else}}<span style="color:#FD714A">v{{.CurrentCalculatedBlockVersion}}</span>{{end}}</strong></td></tr>
	<tr><td>Block v4 reached 75%:</td><td><strong>{{if .BlockVersionSuccess}}<span style="color:#41BF53">Block#{{else}}<span style="color:#FD714A">Treshold not reached</span>{{end}}</strong></td></tr>
	<tr><td>Block version locked to v4:</td><td> </td></tr>
	</tbody>
	</table>
	<strong>Upgrade Interval:</strong>
	<table class="table table-condensed">
	<tbody>
	<tr><td>Current Block Version:</td><td><strong>{{if .BlockVersionSuccess}}<span style="color:#41BF53">v{{.CurrentCalculatedBlockVersion}}</span>{{else}}<span style="color:#FD714A">v{{.CurrentCalculatedBlockVersion}}</span>{{end}}</strong></td></tr>
	<tr><td>Most Popular Block Version:</td><td><strong>{{if .BlockVersionSuccess}}<span style="color:#41BF53">v{{.MostPopularBlockVersion}}</span>{{else}}<span style="color:#FD714A">v{{.MostPopularBlockVersion}}</span>{{end}}</strong></td></tr>
	<tr><td>Most Popular:</td><td><strong>{{if .BlockVersionSuccess}}<span style="color:#41BF53">{{.MostPopularBlockVersionPercentage}}%</span>{{else}}<span style="color:#FD714A"><{{.MostPopularBlockVersionPercentage}}%/span>{{end}}</strong></td></tr>
	<tr><td>Reject Treshold:</td><td><strong>{{.BlockVersionRejectThreshold}}%</strong></td></tr>
	<tr><td>Rolling Window:</td><td><strong>{{.BlockVersionWindowLength}} Blocks</strong></td></tr>
	</tbody>
	</table>

          <canvas id="blockVersionsIndicator" width="400" height="510" style="display:none;"></canvas>
        </div>
</div>







<div id="boxpos" class="hidden">
        
          <h3>Stake Version (PoS){{if .StakeVersionSuccess}}
                                <span class="label label-success">FINISHED</span>
                                {{else}}
                                <span class="label label-default">IN PROGRESS</span>
                                {{end}}</h3>
          <!-- 95% Treshold reached alertbox --><br />
          {{if .StakeVersionSuccess}}
          <div class="alert alert-success">
            Success! v{{.MostPopularStakeVersion}} had {{.MostPopularStakeVersionPercentage}}% of votes in the latest static window and therefore it is the current network stake version (v{{.CurrentCalculatedStakeVersion}})
          </div>
          {{else}}
           <div class="alert alert-danger">
            v{{.CurrentCalculatedStakeVersion}} is still the current vote version.  But v{{.MostPopularStakeVersion}} has received {{.MostPopularStakeVersionPercentage}}% of the votes in the latest static window.  Be prepared to upgrade if it reaches the threshold.
          </div>
          {{end}} <br />
          
          <div class="col-md-10">
 
          <!-- SECOND CHART VOTE VERSIONS / SVI -->
      
            <canvas id="voteVersions" width="400" height="200"></canvas>
       
        </div>
        <!-- BEGIN POW BAR LAST 144 BLOCKS -->
        <div class="col-md-5 text-right">
	<strong>Votebit Version:</strong>
	<table class="table table-condensed">
	<tbody>
	<tr><td>Stake v4 first seen on the network:</td><td><strong>{{if .StakeVersionSuccess}}<span style="color:#41BF53">Block#</span>{{else}}<span style="color:#FD714A">Block#</span>{{end}}</strong></td></tr>
	<tr><td>Stake v4 reached 75%:</td><td><strong>{{if .StakeVersionSuccess}}<span style="color:#41BF53">Block#</span>{{else}}<span style="color:#FD714A">< TRESHOLD</span>{{end}}</strong></td></tr>
	<tr><td>Stake version locked to v4:</td><td><strong>{{if .StakeVersionSuccess}}<span style="color:#41BF53">Block#</span>{{else}}<span style="color:#FD714A">< TRESHOLD</span>{{end}}</strong></td></tr>
	</tbody>
	</table>
	<strong>Upgrade Interval:</strong>
	<table class="table table-condensed">
	<tbody>
	<tr><td>Current Votebit Version:</td><td><strong>{{if .StakeVersionSuccess}}<span style="color:#41BF53">v{{.CurrentCalculatedStakeVersion}}</span>{{else}}<span style="color:#FD714A">v{{.CurrentCalculatedStakeVersion}}</span>{{end}}</strong></td></tr>
	<tr><td>Most Votebit Version:</td><td><strong>{{if .StakeVersionSuccess}}<span style="color:#41BF53">v{{.MostPopularStakeVersion}}</span>{{else}}<span style="color:#FD714A">v{{.MostPopularStakeVersion}}</span>{{end}}</strong></td></tr>
	<tr><td>Most Popular:</td><td><strong>{{if .StakeVersionSuccess}}<span style="color:#41BF53">{{.MostPopularStakeVersionPercentage}}%</span>{{else}}<span style="color:#FD714A">{{.MostPopularStakeVersionPercentage}}%</span>{{end}}</strong></td></tr>
	<tr><td>Reject Treshold:</td><td><strong>{{.StakeVersionThreshold}}%</strong></td></tr>
	<tr><td>Static Window:</td><td><strong>{{.StakeVersionWindowLength}} Blocks</strong></td></tr>
	</tbody>
	</table>
          <canvas id="voteVersionsIndicator" width="400" height="510" style="display:none;"></canvas>
        </div>
    </div><!-- END POSCHARTSBOX -->

<div id="boxstake" class="hidden">
<h3>Stake Version (PoS){{if and .BlockVersionSuccess .StakeVersionSuccess}}<span class="label label-default">IN PROGRESS</span>{{else}}<span class="label label-warning">NOT STARTED</span>{{end}}<br /></h3>
          <!-- 95% Treshold reached alertbox --><br />

     <!-- BEGIN STEP 1 BLOCK AND VOTEBIT VERSION TRESHOLD 95% -->
      {{if .Quorum}}

      <!-- INTRODUCTION TEXT -->
      <div class="row">
        <div class="col-md-10">
          <p>
            After {{.BlockVersionRejectThreshold}}% of blocks in a rolling window 
            of {{.BlockVersionWindowLength}} blocks are the latest block version 
            <strong>and</strong> {{.StakeVersionThreshold}}% of the vote versions in a fixed 
            {{.RuleChangeActivationWindow}} block interval have the latest vote 
            version, voting on a new agenda will begin.
          </p>
          <p>
            Stakeholders can vote either yes, no or abstain.  The wallet's default 
            behavior is to abstain, meaning stakeholders must actively set their 
            votebits in order to vote.
          </p>
          <p>
            Votes cast during a voting period must surpass a quorum of {{.QuorumPercentage}}%, 
            meaning that a minimum of {{.RuleChangeActivationQuorum}} votes in a given voting period must be 
            set to either YES or NO in order for any outcome of the voting on a 
            given issue to be considered valid.  The results of voting on a given 
            issue will only be considered valid if that issue's votes meet the 10% 
            quorum, and this means that the issue will be up for vote again during 
            the next voting period, until it passes its expiration date of {{.QuorumExpirationDate}}.
          </p>
          <h3>Quorum:</h3>
          <!-- QUORUM HORIZONTAL BARCHART -->
          <canvas id="voteQuorum" width="400" height="100"></canvas>
          <div class="alert alert-danger">
            <strong>Danger!</strong> We have yet not reached the minimum Quorum of 10% actively made votes.
          </div>
        </div>
        <!-- OVERALL STATISTICS -->
        <div class="col-md-5 text-right">
	<p class="bg-primary" style="padding:15px;"><strong>{{.AgendaDescription}}</strong></p>
	<table class="table table-condensed">
	<tbody>
	<tr><td>Agenda ID:</td><td><strong>#{{.AgendaID}}</strong></td></tr>
	<tr><td>Voting Window</td><td><strong>{{.VoteStartHeight}}-{{.VoteEndHeight}}</strong></td></tr>
	<tr><td>Blocks left for voting:</td><td><strong>{{.VoteBlockLeft}}</strong></td></tr>
	<tr><td>Estimated Vote Expiration Block:</td><td><strong>{{.VoteExpirationBlock}}</strong></td></tr>
	</tbody>
	</table>
            <h3>Voting Progress:</h3>
            <canvas id="voteProgress" width="100" height="100" style="display:none"></canvas>
          </blockquote>
        </div>
      </div>
      {{end}}
</div>



















</div><!-- end wrapper -->

<script src="js/complete.js"></script>

<!-- CHARTS JS -->

  <!-- blockVersions line chart-->
  <script>
    var blockVersionGraphColors = ['23,12,220','244,100,1','75,192,192','41,113,255','123,22,255','22,255,122']
    var blockVersionsLineConfig = {
      type: 'line',
      data: {
        labels: {{.BlockVersionsHeights}},
        datasets: [
        {{range $i, $element := .BlockVersions}}
          {
              label: "Block v"+{{$i}},
              fill: true,
              lineTension: 0.1,
              backgroundColor: "rgba("+blockVersionGraphColors[{{$i}}-1]+",0.4)",
              borderColor: "rgba("+blockVersionGraphColors[{{$i}}-1]+",1)",
              borderCapStyle: 'butt',
              borderDash: [],
              borderDashOffset: 0.0,
              borderJoinStyle: 'miter',
              pointBorderColor: "rgba("+blockVersionGraphColors[{{$i}}-1]+",1)",
              pointBackgroundColor: "#fff",
              pointBorderWidth: 1,
              pointHoverRadius: 5,
              pointHoverBackgroundColor: "rgba("+blockVersionGraphColors[{{$i}}-1]+",1)",
              pointHoverBorderColor: "rgba(220,220,220,1)",
              pointHoverBorderWidth: 2,
              pointRadius: 1,
              pointHitRadius: 10,
              data: {{.RollingWindowLookBacks}},
              spanGaps: false,
          },
        {{end}}
          ]
      },
      options: {
        title: {
          display: true,
          text: 'PoW Block Versions',
          fontColor: '#FFF'
        },
        scales: {
          yAxes: [{
            ticks: {
              beginAtZero:true,
              fontColor: '#FFF'
            }
          }],
          xAxes: [{
            ticks: {
              autoSkipPadding: 50,
              beginAtZero:true,
              fontColor: '#FFF',
              reverse: true,
            }
          }]
        }
      }
    };
    var ctx = document.getElementById("blockVersions");
    var myChart = new Chart(ctx, blockVersionsLineConfig);

    // blockVersions most recent bar chart
    var blockVersionsBarConfig = {
      type: 'bar',
      data: {
        labels: ["Last {{.BlockVersionWindowLength}} Blocks"],
        datasets: [
        {{range $i, $element := .BlockVersions}}
        {{$length := minus (len $element.RollingWindowLookBacks) 1}}
          {
          type: 'bar',
          label: 'Block v{{$i}}',
          backgroundColor: "rgba("+blockVersionGraphColors[{{$i}}-1]+",1)",
          data: [{{index $element.RollingWindowLookBacks $length}}],
          }, 
        {{end}}
        ]
      },
      options: {
        scales: {
          xAxes: [{
            stacked: true
          }],
          yAxes: [{
            stacked: true
          }]
        }
      }
    };
    var ctx = document.getElementById("blockVersionsIndicator").getContext("2d");
    new Chart(ctx, blockVersionsBarConfig);

    // vote version line graph
    var voteVersionGraphColors = ['23,12,220','244,100,1','75,192,192','41,113,255','123,22,255','22,255,122','255,0,122']
    var voteVersionLineConfig = {
      type: 'line',
      data: {
        labels: {{.StakeVersionHeights}},
        datasets: [
          {{range $i, $element := .StakeVersions}}
          {
            label: "Vote v{{$i}}",
            fill: true,
            lineTension: 0.1,
            backgroundColor: "rgba("+voteVersionGraphColors[{{$i}}]+",0.4)",
            borderColor: "rgba("+voteVersionGraphColors[{{$i}}]+",1)",
            borderCapStyle: 'butt',
            borderDash: [],
            borderDashOffset: 0.0,
            borderJoinStyle: 'miter',
            pointBorderColor: "rgba("+voteVersionGraphColors[{{$i}}]+",1)",
            pointBackgroundColor: "#fff",
            pointBorderWidth: 1,
            pointHoverRadius: 5,
            pointHoverBackgroundColor: "rgba("+voteVersionGraphColors[{{$i}}]+",1)",
            pointHoverBorderColor: "rgba(220,220,220,1)",
            pointHoverBorderWidth: 2,
            pointRadius: 1,
            pointHitRadius: 10,
            data: {{.StaticWindowVoteCounts}},
            spanGaps: false,
          },
          {{end}}
        ]
      },
      options: {
        title: {
          display: true,
          text: 'Vote Versions / SVI / Stake version Interval',
          fontColor: '#FFF'
        },
        scales: {
          yAxes: [{
            ticks: {
              beginAtZero:true,
              fontColor: '#FFF',
              suggestedMin: 0
            }
          }],
          xAxes: [{
            ticks: {
              beginAtZero:true,
              fontColor: '#FFF'
            }
          }]
        }
      }
    };
    var cty = document.getElementById("voteVersions");
    var myChart = new Chart(cty, voteVersionLineConfig);
    {{if .Quorum}}
    var voteVersionBarConfig = {
      type: 'bar',
      data: {
        labels: ["Totals for Block {{.BlockHeight}}"],
        datasets: [
        {{range $i, $element := .StakeVersions}}
          {
          type: 'bar',
          label: 'Vote v{{$i}}',
          backgroundColor: "rgba("+voteVersionGraphColors[{{$i}}]+",1)",
          data: [{{$element.CurrentTotalVotes}}],
          }, 
        {{end}}
        ]
      },
      options: {
        scales: {
          xAxes: [{
            stacked: true,
            suggestedMin: 0,
            suggestedMax: {{.StakeVersionWindowVoteTotal}}
          }],
          yAxes: [{
            stacked: true,
            suggestedMin: 0,
            suggestedMax: {{.StakeVersionWindowVoteTotal}}
          }]
        }
      }
    };
    var ctx = document.getElementById("voteVersionsIndicator").getContext("2d");
    new Chart(ctx, voteVersionBarConfig);
    var quorumHorizontalConfig = {
      type: 'horizontalBar',
      data: {
      labels: ["Voted vs. Abstained"],
        datasets: [{
          type: 'horizontalBar',
          label: 'Voted',
          data: [{{.QuorumVotedPercentage}}],
          backgroundColor: '#41BF53',
          }, {
          type: 'horizontalBar',
          label: 'Abstained',
          data: [{{.QuorumAbstainedPercentage}}],
          backgroundColor: '#FD714A'
        }] 
      },
      options: {
        scales: {
          xAxes: [{
            display: true,
            ticks: {
              suggestedMin: 0,
              suggestedMax: 100,
            }
          }]
        }
      }
    };
    var cta = document.getElementById("voteQuorum");
    new Chart(cta, quorumHorizontalConfig);
    var quorumDonutConfig = {
      type: 'doughnut',
      data: {
      labels: {{.ChoiceIds}},
        datasets: [{
          data: {{.ChoicePercentages}},
          backgroundColor: [
            "#FD714A",
            "#41BF53",
            "#69D3F5"
          ],
          hoverBackgroundColor: [
            "#0C1E3E",
            "#2ED6A1",
            "#2971FF"
          ]
        }]
      }
    };
    var ctu = document.getElementById("voteProgress");
    new Chart(ctu, quorumDonutConfig);
    {{end}}
  </script>

<!-- CIRCLE PROGRESS INDICATORS -->
<script>
$('head style[type="text/css"]').attr('type', 'text/less');
less.refreshStyles();
var transform_styles = ['-webkit-transform', '-ms-transform', 'transform'];
var pow_percent = '{{.MostPopularBlockVersionPercentage}}';
var pos_percent = '{{.MostPopularStakeVersionPercentage}}';
var stake_percent = '75';

window.circle1 = function() {
	var rotation = Math.floor(pow_percent * 1.8);
console.log('1: '+rotation);
	var fill_rotation = rotation;
	var fix_rotation = rotation * 2;
	for(i in transform_styles) {
		$('.circle .fill, .circle .mask.full').css(transform_styles[i], 'rotate(' + fill_rotation + 'deg)');
		$('.circle .fill.fix').css(transform_styles[i], 'rotate(' + fix_rotation + 'deg)');
	}
}
setTimeout(window.circle1, 200);


window.circle2 = function() {
        var rotation2 = Math.floor(pos_percent * 1.8);
console.log('2: '+rotation2);
        var fill_rotation = rotation2;   
        var fix_rotation = rotation2 * 2;
        for(i in transform_styles) {
                $('.circle2 .fill, .circle2 .mask.full').css(transform_styles[i], 'rotate(' + fill_rotation + 'deg)');
                $('.circle2 .fill.fix').css(transform_styles[i], 'rotate(' + fix_rotation + 'deg)');
        }
}
setTimeout(window.circle2, 500);

window.circle3 = function() {
        var rotation3 = Math.floor(stake_percent * 1.8);
console.log('3: '+rotation3);
        var fill_rotation = rotation3;
        var fix_rotation = rotation3 * 3;
        for(i in transform_styles) {
                $('.circle3 .fill, .circle3 .mask.full').css(transform_styles[i], 'rotate(' + fill_rotation + 'deg)');
                $('.circle3 .fill.fix').css(transform_styles[i], 'rotate(' + fix_rotation + 'deg)');
        }
}
setTimeout(window.circle3, 1500);
</script>
  </body>
</html>
{{end}}
